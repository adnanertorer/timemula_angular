<div class="animated fadeIn">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <h5>Derslik/Salon <=> Ders/Hizmet İlişkisi Tanımları</h5>
          <p>
            Şimdi hangi ders ya da hizmetlerimizi hangi sınıf ya da salonlarda gerçekleştiriyoruz tanımlayalım.
          </p>
        </div>
        <div class="card-body">
          <div class="animated fadeIn">
            <div class="row">
              <div class="col-md-12">
                <div class="card">
                  <div class="card-header">
                    <strong>Ders/Sınıf</strong> İlişkisi Kayıt Formu
                  </div>
                  <div class="card-body">
                    <form action="" method="post" class="form-horizontal">
                      <div class="form-group row">
                        <label class="col-md-3 col-form-label" for="categoryId">Kategori</label>
                        <div class="col-md-9">
                          <select name="categoryId" (change)="categoryOnChange($event.target.value)" id="categoryId" [(ngModel)]="createClassroomForLesson.lesson.categoryId"
                           class="form-control">
                            <option value="0">Seçiniz</option>
                            <option value="{{item.id}}" *ngFor="let item of categories">{{item.categoryName}}</option>
                          </select>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label class="col-md-3 col-form-label" for="subCategoryId">Alt Kategori</label>
                        <div class="col-md-9">
                          <select name="subCategoryId" id="subCategoryId" (change)="subCategoryOnChange($event.target.value)" [(ngModel)]="createClassroomForLesson.lesson.subCategoryId" class="form-control">
                            <option value="0">Seçiniz</option>
                            <option value="{{item.id}}" *ngFor="let item of subCategories">{{item.subCategoryName}}</option>
                          </select>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label class="col-md-3 col-form-label" for="lessonId">Ders</label>
                        <div class="col-md-9">
                          <select name="lessonId" id="lessonId" [(ngModel)]="createClassroomForLesson.lesson.lessonId" class="form-control">
                            <option value="0">Seçiniz</option>
                            <option value="{{item.id}}" *ngFor="let item of lessons">{{item.lessonName}}</option>
                          </select>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label class="col-md-3 col-form-label" for="classromName">Sınıf/Salon Adı</label>
                        <div class="col-md-9">
                          <input type="text" name="classromName" class="form-control" id="classromName"
                          [(ngModel)]="createClassroomForLesson.classroom.classromName">
                        </div>
                      </div>
                      <div class="form-group row">
                        <label class="col-md-3 col-form-label" for="quta">Sınıf Kotası</label>
                        <div class="col-md-9">
                          <input type="number" name="quta" class="form-control" id="quta"
                          [(ngModel)]="createClassroomForLesson.classroom.quta">
                        </div>
                      </div>
                      <div class="form-group row">
                        <label class="col-md-3 col-form-label" for="minCapacity">Ders Minimum Kişi Sayısı</label>
                        <div class="col-md-9">
                          <input type="number" name="minCapacity" class="form-control" id="minCapacity"
                          [(ngModel)]="createClassroomForLesson.lesson.minCapacity">
                        </div>
                      </div>
                      <div class="form-group row">
                        <label class="col-md-3 col-form-label" for="maxCapacity">Ders Maksimum Kişi Sayısı</label>
                        <div class="col-md-9">
                          <input type="number" name="maxCapacity" class="form-control" id="maxCapacity"
                          [(ngModel)]="createClassroomForLesson.lesson.maxCapacity">
                        </div>
                      </div>
                    </form>
                    <div class="card-footer">
                      <button type="submit" (click)="add()" class="btn btn-sm btn-primary"><i class="fa fa-dot-circle-o"></i> {{buttonText}}</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="card">
                <div class="col-md-12">
                  <div class="card-header">
                    <strong>Ders/Sınıf İlişkisi Listesi</strong> 
                  </div>
                  <div class="card-body">
                    <table class="table table-sm">
                      <thead>
                        <tr>
                          <th>Derslik Adı</th>
                          <th>Ders Adı</th>
                          <th>Sınıf Kapasitesi</th>
                          <th>Ders Min. Kişi Sayısı</th>
                          <th>Ders Maks. Kişi Sayısı</th>
                          <th>Dersin Önceliği</th>
                          <th>Kayıt Zamanı</th>
                          <th>İşlemler</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let item of pageOfItems">
                          <td>{{item.classromName}}</td>
                          <td>{{item.lessonName}}</td>
                          <td>{{item.maxCapacity}}</td>
                          <td>{{item.minCapacity}}</td>
                          <td>{{item.maxCapacity}}</td>
                          <td>{{item.priority}}</td>
                          <td>{{item.createdAt | date: 'dd/M/yyyy hh:mm'}}</td>
                          <td>
                            <a (click)="remove(item.id)" title="Sil">Sil</a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="card-footer pb-0 pt-3">
                    <jw-pagination [items]="list" (changePage)="onChangePage($event)"></jw-pagination>
                </div>
                </div><!--/.col-->
              </div><!--/.row-->
          </div>          
        </div>
      </div>
    </div>
  </div>
</div>
